<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="firstportfolio.wordcharger.repository.WritingMapper">

    <delete id="deleteAll">
        DELETE FROM writing_data
    </delete>

    <insert id="init">
        INSERT INTO writing_data
        VALUES (writing_sequence.NEXTVAL, #{i}, 'wowns590', 0, null, SYSDATE, #{i}, 0, 0)
    </insert>


    <insert id="insertWriting">
        INSERT INTO writing_data
        VALUES (writing_sequence.NEXTVAL, #{title}, #{userId}, #{isPrivate}, #{writingPassword}, SYSDATE, #{content}, 0, 0)
    </insert>


    <select id="countAllWriting" resultType="Integer">
        SELECT COUNT(*) FROM writing_data
    </select>

    
    <select id="findCurrentPageWritings" resultType="WritingDTOSelectVersion">
        SELECT * FROM writing_data
        ORDER BY writing_num DESC
        OFFSET #{startRow} ROWS
        FETCH NEXT #{pageSize} ROWS ONLY
    </select>







</mapper>